{
  "iteration": 1,
  "created_at": "2025-08-15T21:50:08Z",
  "total_tasks": 10,
  "completed_tasks": 0,
  "in_progress_tasks": 0,
  "not_started_tasks": 10,
  "tasks": {
    "task_1": {
      "title": "Global RAG System in Settings",
      "description": "Implement global RAG support with LanceDB for persistent document embedding",
      "status": "completed",
      "priority": "high",
      "estimated_hours": 8,
      "subtasks": {
        "1.1": {
          "title": "Install and configure LanceDB",
          "description": "Add LanceDB dependency and create database connection service",
          "status": "completed",
          "files_to_modify": ["package.json", "src/services/VectorDatabaseService.ts"]
        },
        "1.2": {
          "title": "Create GlobalRAGService",
          "description": "Service to handle global document embedding and retrieval",
          "status": "completed",
          "files_to_modify": ["src/services/GlobalRAGService.ts"]
        },
        "1.3": {
          "title": "Add folder selection UI in settings",
          "description": "Add two buttons 'Support Global RAG' and 'Refresh Global RAG' in settings window",
          "status": "completed",
          "files_to_modify": ["src/renderer/settings.html", "src/renderer/settings-renderer.js"]
        },
        "1.4": {
          "title": "Implement document processing pipeline",
          "description": "Process various document types and create embeddings",
          "status": "completed",
          "files_to_modify": ["src/services/DocumentProcessor.ts"]
        },
        "1.5": {
          "title": "Integrate with app data storage",
          "description": "Save embeddings to app data directory with proper persistence",
          "status": "completed",
          "files_to_modify": ["src/services/GlobalRAGService.ts"]
        }
      }
    },
    "task_2": {
      "title": "Context Input for Session Start",
      "description": "Add context input popup when starting a session",
      "status": "completed",
      "priority": "high",
      "estimated_hours": 4,
      "subtasks": {
        "2.1": {
          "title": "Create context input modal",
          "description": "Add popup with textarea and save/back buttons",
          "status": "completed",
          "files_to_modify": ["src/renderer/main.html", "src/renderer/main-renderer.js"]
        },
        "2.2": {
          "title": "Integrate context with session initialization",
          "description": "Pass context to ChatService when starting session",
          "status": "completed",
          "files_to_modify": ["src/services/SessionManager.ts", "src/services/ChatService.ts"]
        },
        "2.3": {
          "title": "Add global RAG context search",
          "description": "Search global database for relevant context based on user input",
          "status": "completed",
          "files_to_modify": ["src/services/ChatService.ts", "src/services/GlobalRAGService.ts"]
        }
      }
    },
    "task_3": {
      "title": "Persistent Chat Context",
      "description": "Maintain single OpenAI chat session throughout the interview session",
      "status": "completed",
      "priority": "high",
      "estimated_hours": 3,
      "subtasks": {
        "3.1": {
          "title": "Refactor ChatService for session persistence",
          "description": "Maintain conversation history and context across all interactions",
          "status": "completed",
          "files_to_modify": ["src/services/ChatService.ts"]
        },
        "3.2": {
          "title": "Update OCR integration",
          "description": "Use same chat session for OCR text processing",
          "status": "completed",
          "files_to_modify": ["src/services/ChatService.ts"]
        },
        "3.3": {
          "title": "Update audio transcription integration",
          "description": "Use same chat session for audio transcript processing",
          "status": "completed",
          "files_to_modify": ["src/services/ChatService.ts", "src/services/AudioService.ts"]
        }
      }
    },
    "task_4": {
      "title": "Fix HTML Rendering in Chat Bubbles",
      "description": "Display HTML as plain text instead of rendering it",
      "status": "completed",
      "priority": "medium",
      "estimated_hours": 1,
      "subtasks": {
        "4.1": {
          "title": "Update chat message rendering",
          "description": "Escape HTML entities in chat messages to display as text",
          "status": "completed",
          "files_to_modify": ["src/renderer/session-renderer.js"]
        }
      }
    },
    "task_5": {
      "title": "Fix Audio Recording and Transcription Flow",
      "description": "Accumulate transcriptions until user stops recording",
      "status": "completed",
      "priority": "high",
      "estimated_hours": 4,
      "subtasks": {
        "5.1": {
          "title": "Refactor AudioService recording logic",
          "description": "Store transcriptions without sending to LLM immediately",
          "status": "completed",
          "files_to_modify": ["src/services/AudioService.ts"]
        },
        "5.2": {
          "title": "Implement transcription accumulation",
          "description": "Append new transcriptions to existing ones during recording",
          "status": "completed",
          "files_to_modify": ["src/services/AudioService.ts"]
        },
        "5.3": {
          "title": "Update UI to show recording state",
          "description": "Visual feedback for recording status and accumulated transcription",
          "status": "completed",
          "files_to_modify": ["src/renderer/session-renderer.js"]
        },
        "5.4": {
          "title": "Send complete transcription on stop",
          "description": "Send full accumulated transcription to LLM when recording stops",
          "status": "completed",
          "files_to_modify": ["src/services/AudioService.ts", "src/services/ChatService.ts"]
        }
      }
    },
    "task_6": {
      "title": "Local Session RAG Implementation",
      "description": "Implement local RAG for each session with document upload",
      "status": "not_started",
      "priority": "high",
      "estimated_hours": 6,
      "subtasks": {
        "6.1": {
          "title": "Create LocalRAGService",
          "description": "Session-specific document embedding service",
          "status": "not_started",
          "files_to_modify": ["src/services/LocalRAGService.ts"]
        },
        "6.2": {
          "title": "Implement folder selection for RAG button",
          "description": "Add file dialog when RAG button is clicked",
          "status": "not_started",
          "files_to_modify": ["src/renderer/session-renderer.js"]
        },
        "6.3": {
          "title": "Create session-specific vector database",
          "description": "Local database that gets deleted when session closes",
          "status": "not_started",
          "files_to_modify": ["src/services/LocalRAGService.ts", "src/services/SessionManager.ts"]
        },
        "6.4": {
          "title": "Integrate RAG search with chat",
          "description": "Search local and global databases for context before LLM calls",
          "status": "not_started",
          "files_to_modify": ["src/services/ChatService.ts"]
        }
      }
    },
    "task_7": {
      "title": "Session Header Control Buttons",
      "description": "Add refresh local RAG, enable global RAG, enable local RAG buttons",
      "status": "not_started",
      "priority": "medium",
      "estimated_hours": 3,
      "subtasks": {
        "7.1": {
          "title": "Add three new buttons to session header",
          "description": "Refresh Local RAG, Enable Global RAG, Enable Local RAG buttons",
          "status": "not_started",
          "files_to_modify": ["src/renderer/session.html", "src/renderer/session-renderer.js"]
        },
        "7.2": {
          "title": "Implement refresh local RAG functionality",
          "description": "Delete and reinitialize local database",
          "status": "not_started",
          "files_to_modify": ["src/services/LocalRAGService.ts"]
        },
        "7.3": {
          "title": "Implement toggle states for RAG buttons",
          "description": "Visual states (enabled/disabled) with proper colors",
          "status": "not_started",
          "files_to_modify": ["src/renderer/session-renderer.js", "src/renderer/session.html"]
        },
        "7.4": {
          "title": "Update RAG search logic",
          "description": "Respect enable/disable states for global and local RAG",
          "status": "not_started",
          "files_to_modify": ["src/services/ChatService.ts"]
        }
      }
    },
    "task_8": {
      "title": "Enhanced Screenshot Capture Flow",
      "description": "Multi-step screenshot capture with options (capture more, left half, right half)",
      "status": "completed",
      "priority": "high",
      "estimated_hours": 6,
      "subtasks": {
        "8.1": {
          "title": "Refactor screenshot capture logic",
          "description": "Store OCR text in memory instead of immediate LLM send",
          "status": "completed",
          "files_to_modify": ["src/services/CaptureService.ts", "src/services/OCRService.ts"]
        },
        "8.2": {
          "title": "Create screenshot action buttons UI",
          "description": "Add chat bubble with 4 buttons: capture more, left half, right half, no need",
          "status": "completed",
          "files_to_modify": ["src/renderer/session-renderer.js"]
        },
        "8.3": {
          "title": "Implement full screen recapture",
          "description": "Capture more functionality with OCR text append",
          "status": "completed",
          "files_to_modify": ["src/services/CaptureService.ts"]
        },
        "8.4": {
          "title": "Implement half-screen capture",
          "description": "Left and right half screen capture with OCR append",
          "status": "completed",
          "files_to_modify": ["src/services/CaptureService.ts"]
        },
        "8.5": {
          "title": "Apply same logic to debug button",
          "description": "Implement similar multi-step flow for debug functionality",
          "status": "completed",
          "files_to_modify": ["src/renderer/session-renderer.js", "src/services/ChatService.ts"]
        }
      }
    },
    "task_9": {
      "title": "Centralized Prompt Management",
      "description": "Create unified prompt library system",
      "status": "not_started",
      "priority": "medium",
      "estimated_hours": 3,
      "subtasks": {
        "9.1": {
          "title": "Enhance PromptLibraryService",
          "description": "Centralize all prompts in single service",
          "status": "not_started",
          "files_to_modify": ["src/services/PromptLibraryService.ts"]
        },
        "9.2": {
          "title": "Create prompt templates",
          "description": "Define templates for different actions and contexts",
          "status": "not_started",
          "files_to_modify": ["src/services/PromptLibraryService.ts"]
        },
        "9.3": {
          "title": "Update all services to use centralized prompts",
          "description": "Remove hardcoded prompts from services",
          "status": "not_started",
          "files_to_modify": ["src/services/ChatService.ts", "src/services/OCRService.ts"]
        }
      }
    },
    "task_10": {
      "title": "Remove Encryption Feature",
      "description": "Remove encryption functionality causing key length errors",
      "status": "completed",
      "priority": "high",
      "estimated_hours": 2,
      "subtasks": {
        "10.1": {
          "title": "Remove EncryptionService dependency",
          "description": "Remove encryption from ConfigurationManager and PersistenceService",
          "status": "completed",
          "files_to_modify": ["src/services/ConfigurationManager.ts", "src/services/PersistenceService.ts"]
        },
        "10.2": {
          "title": "Update data storage to plain text",
          "description": "Store configuration and sensitive data without encryption",
          "status": "completed",
          "files_to_modify": ["src/services/PersistenceService.ts"]
        },
        "10.3": {
          "title": "Remove EncryptionService file",
          "description": "Delete the EncryptionService.ts file",
          "status": "completed",
          "files_to_modify": ["src/services/EncryptionService.ts"]
        },
        "10.4": {
          "title": "Update main.ts imports",
          "description": "Remove EncryptionService imports and references",
          "status": "completed",
          "files_to_modify": ["src/main.ts"]
        }
      }
    }
  },
  "dependencies": [
    {
      "task": "task_1",
      "depends_on": [],
      "blocks": ["task_2", "task_6"]
    },
    {
      "task": "task_2",
      "depends_on": ["task_1"],
      "blocks": ["task_3"]
    },
    {
      "task": "task_3",
      "depends_on": ["task_2"],
      "blocks": ["task_5", "task_8"]
    },
    {
      "task": "task_6",
      "depends_on": ["task_1"],
      "blocks": ["task_7"]
    },
    {
      "task": "task_7",
      "depends_on": ["task_6"],
      "blocks": []
    },
    {
      "task": "task_10",
      "depends_on": [],
      "blocks": ["task_1", "task_2"]
    }
  ]
}
